<div class="results-container">
  <h1 class="groovy-title">Quiz Results</h1>

  <div *ngIf="userResults.length === 0">
    <p>No quiz results available.</p>
  </div>

  <div *ngFor="let quiz of userResults; let quizIndex = index" class="quiz-result">
    <button (click)="toggleQuizDetails(quizIndex)" class="quiz-toggle-btn">
      Quiz {{quizIndex + 1}} - Correct Answers: {{getCorrectAnswersCount(quiz)}} out of {{quiz.length}}
    </button>

    <div *ngIf="quizDetailsVisible[quizIndex]" class="quiz-details">
      <div *ngFor="let result of quiz" class="result-summary">
        <p>
          <strong>Question:</strong> {{result.question}}
        </p>
        <p [ngClass]="{'correct': result.isCorrect, 'incorrect': !result.isCorrect}">
          <strong>Your Answer:</strong> {{result.selectedAnswer || 'Not answered'}}
        </p>
        <p *ngIf="!result.isCorrect" class="correct">
          <strong>Correct Answer:</strong> {{result.correctAnswer}}
        </p>
      </div>
    </div>
  </div>

  <button (click)="goToHome()">Back to Home</button>
</div>
